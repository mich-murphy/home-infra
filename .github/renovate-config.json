{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "username": "renovate-release",
  "gitAuthor": "Renovate Bot <bot@renovateapp.com>",
  "baseBranchPatterns": ["main"],
  "branchPrefix": "actions-renovate/",
  "platform": "github",
  "onboarding": true,
  "onboardingBranch": "actions-renovate/configure",
  "semanticCommits": "enabled",
  "prHourlyLimit": 15,
  "rebaseWhen": "conflicted",
  "automergeStrategy": "rebase",
  "repositories": ["mich-murphy/home-infra"],
  "dependencyDashboardTitle": "Renovate Dashboard ðŸ¤–",
  "major": {
    "dependencyDashboardApproval": true
  },
  "kubernetes": {
    "managerFilePatterns": ["/kubernetes/.+\\.ya?ml$/"]
  },
  "extends": [
    "config:best-practices",
    "docker:enableMajor",
    "default:automergeDigest",
    ":rebaseStalePrs"
  ],
  "packageRules": [
    {
      "matchUpdateTypes": ["minor", "patch"],
      "matchCurrentVersion": "!/^0/",
      "automerge": true,
      "ignoreTests": true
    },
    {
      "description": "Linuxserver.io Deluge",
      "matchPackageNames": ["/^(gh|ls)cr\\.io\\/linuxserver\\/deluge/"],
      "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-r(?<build>\\d+)-ls(?<revision>.+)$"
    },
    {
      "description": "Linuxserver.io Sabnzbd and FreshRSS",
      "matchPackageNames": [
        "/^(gh|ls)cr\\.io\\/linuxserver\\/(sabnzbd|freshrss)/"
      ],
      "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-ls(?<build>.+)$"
    },
    {
      "description": "Linuxserver.io Tautulli and Overseerr",
      "matchPackageNames": [
        "/^(gh|ls)cr\\.io\\/linuxserver\\/(tautulli|overseerr)/"
      ],
      "versioning": "regex:^v(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-ls(?<build>.+)$"
    },
    {
      "description": "Linuxserver.io Arrs",
      "matchPackageNames": [
        "/^(gh|ls)cr\\.io\\/linuxserver\\/(radarr|sonarr|lidarr|prowlarr)/"
      ],
      "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)\\.(?<build>\\d+)-ls(?<revision>.+)$"
    },
    {
      "description": "Plex Media Server",
      "matchPackageNames": ["/^plexinc\\/pms-docker/"],
      "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)\\.(?<build>\\d+)-(?<revision>.+)$"
    },
    {
      "description": "Manual Approval for Immich Server and Machine Learning",
      "matchPackageNames": [
        "/^ghcr\\.io\\/immich-app\\/(immich-server|immich-machine-learning)/"
      ],
      "automerge": false
    },
    {
      "description": "Disable Immich Database and Cache Updates",
      "matchPackageNames": [
        "/^(ghcr|docker)\\.io\\/(immich-app|valkey)\\/(postgres|valkey)/"
      ],
      "enabled": false
    },
    {
      "description": "Disable Crafty Controller Updates",
      "matchPackageNames": [
        "/^registry\\.gitlab\\.com\\/crafty-controller\\/crafty-4/"
      ],
      "enabled": false
    }
  ]
}
