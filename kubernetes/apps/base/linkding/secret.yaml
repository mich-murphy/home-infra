# apiVersion: external-secrets.io/v1
# kind: SecretStore
# metadata:
#   name: onepassword-linkding
#   namespace: linkding
# spec:
#   provider:
#     onepasswordSDK:
#       vault: kubernetes
#       auth:
#         serviceAccountSecretRef:
#           name: onepassword-sdk-kubernetes
#           key: secret-token
#       integrationInfo: # this is optional and defaulted
#         name: integration-info
#         version: v1
---
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: linkding-credentials
spec:
  refreshPolicy: OnChange
  secretStoreRef:
    kind: ClusterSecretStore
    name: onepassword-secrets
  target:
    creationPolicy: Owner
    deletionPolicy: Delete
  data:
    - secretKey: linkding-username
      remoteRef:
        key: linkding/username
    - secretKey: linkding-password
      remoteRef:
        key: linkding/password
